<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="generator" content="Bootply" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel=icon href=/content/images/favicon.ico>
		<title>JasperFx - Jasper.JsonCommands</title>
		<link href="/content/bootstrap.min.css" rel="stylesheet" type="text/css" />
		<link href="/content/JasperFx.css" rel="stylesheet" type="text/css" />
		<link href="/content/prism.css" rel="stylesheet" type="text/css" />
		<link href="/content/theme.css" rel="stylesheet" type="text/css" />




        <link rel="apple-touch-icon" href="/bootstrap/img/apple-touch-icon.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/bootstrap/img/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/bootstrap/img/apple-touch-icon-114x114.png">

        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />

        <!-- CSS code from Bootply.com editor -->
        <link href="/content/affix.css" rel="stylesheet" type="text/css" />
    </head>

    <!-- HTML code from Bootply.com editor -->

    <body  >


        <nav class="navbar navbar-default navbar-fixed-top" role="banner">
		  <div class="container">
		    <div class="navbar-header">
		      <a href="/" class="navbar-brand">JasperFx</a>
		    </div>
		    <nav class="collapse navbar-collapse" role="navigation">
		      <ul class="nav navbar-nav pull-right">
		        <li>
		          <a href="/documentation/getting_started">Getting Started</a>
		        </li>
		        <li>
		          <a href="/documentation">Documentation</a>
		        </li>
		        <li>
		        <li>
<a href="https://gitter.im/JasperFx/jasper?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Join the chat at https://gitter.im/JasperFx/https://github.com/JasperFx/jasper" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a>
		        </li>
		      	<li><a href="/documentation/extensions/consul" title="Jasper.Consul">Previous</a></li>
		      	<li><a href="/documentation/extensions/marten" title="Jasper.Marten">Next</a></li>
		      </ul>
		      <div class="navbar-form navbar-left" role="search">
		        <div class="form-group">
		          <input id="search" type="search" class="form-control" placeholder="Search">
		        </div>
		      </div>

		    </nav>

		  </div>
		</nav>

		  <div class="container">
		  	<nav class="navbar-inverse">
		  		<ol class="breadcrumb"><li><a href="/">JasperFx</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/documentation/extensions">Extensions</a></li><li class="active">Jasper.JsonCommands</li></ol>
		  	</nav>
		  </div>

		<!--main-->
		<div class="container">
			<div class="row">
		      <!--left-->

		      <div class="col-md-3" id="leftCol">
		      	<h3>JasperFx 0.8.2</h3>
		      	<br />

				<ul class="nav nav-stacked affix" id="sidebar">

		        </ul>

		        	<h3 class="no-margin">Next</h3><p><a href="/documentation/extensions/marten">Jasper.Marten</a></p>
		        	<h3 class="no-margin">Previous</h3><a href="/documentation/extensions/consul">Jasper.Consul</a></p>

		        </ul>
		      </div><!--/left-->

		      <!--right-->
		      <div class="col-md-9">
			      	<h1>Jasper.JsonCommands<a href="https://github.com/JasperFx/jasper/blob/master/documentation/documentation/extensions/jsoncommands.md"  class="text-muted small pull-right" style="margin-top: 10px"><i class="fa fa-github"></i> Edit on GitHub</a></h1>

			      	<hr />

			      	<div id="main-pane">
			      		<!--title:Jasper.JsonCommands-->
<p>The <code>Jasper.JsonCommands</code> extention adds a pair of commands to your application that allow you to export <a href="http://json-schema.org/">JSON schema</a> documents from your handled message types or to generate C# <a href="https://en.wikipedia.org/wiki/Data_transfer_object">DTO</a> classes to
match JSON schema files. The purpose of this functionality is to avoid the necessity of having to share message types through some kind of shared DTO assembly in environments where that may be
problematic (or you just don't want to do that).</p>
<p>To use <code>Jasper.JsonCommands</code>, just add the Nuget to your project, and type <code>dotnet run -- ?</code> at the command line at the root of your project to see the list of available <a href="/documentation/bootstrapping/console">commands</a> in your Jasper application:</p>
<ol>
<li><code>export-json-schema</code> - Exports Json schema documents for all handled message types in the current application</li>
<li><code>generate-message-types</code> - Generate C# classes from Json schema files exported by Jasper</li>
</ol>
<h2 id="exporting-json-schema">Exporting Json Schema</h2>
<p>Assuming that you are using <code>Jasper.CommandLine</code> as a harness for your Jasper appliction, you can use this command to export JSON schema files for all the known message types that your system handles:</p>
<pre><code>dotnet run -- export-json-schema /schemafiles
</code></pre>
<p>That will loop through all the known messages handled in the system, and generate a JSON schema file
using the <a href="https://github.com/RSuter/NJsonSchema">NJsonSchema</a> library that will be named following the pattern <em><a href="/documentation/messaging/messages">message type identity</a></em>-<em>version</em>.json. The argument &quot;/schemafiles&quot; just tells the command where to save the files.</p>
<h2 id="generating-c-dto-class-files-from-json-schema-documents">Generating C# DTO Class Files from JSON Schema Documents</h2>
<p>To generate C# DTO class files from the JSON Schema documents, the <code>generate-message-types</code> command
has this usage:</p>
<pre><code> Usages for 'generate-message-types' (Generate C# classes from Json schema files exported by Jasper)
  generate-message-types &lt;schemadirectory&gt; &lt;outputdirectory&gt; [-n, --namespace &lt;namespace&gt;]

  -----------------------------------------------------------------------------------------------------
    Arguments
  -----------------------------------------------------------------------------------------------------
    schemadirectory -&gt; The directory where the Json schema files are located
    outputdirectory -&gt; The directory where the generated C# files should be written
  -----------------------------------------------------------------------------------------------------

  -----------------------------------------------------------------------------------------------------
    Flags
  -----------------------------------------------------------------------------------------------------
    [-n, --namespace &lt;namespace&gt;] -&gt; Override the namespace of the generated message types
  -----------------------------------------------------------------------------------------------------
</code></pre>
<p>Let's say that the schema files were exported to a directory named <code>\\server1\exports</code> and I wanted to export the C# files to the directory <code>/Messages</code> within my project. Finally, I'd like these classes written to the namespace <code>MyApp.Messages</code> instead of the default &quot;Jasper.Generated.&quot; That command would be:</p>
<pre><code>dotnet run -- generate-message-types &quot;\\server1\exports1&quot; Messages --namespace MyApp.Messages
</code></pre>
<p>After running that command, you should see a .cs file per JSON schema document with generated C# code, and an additional files called <code>MessageAnnotations.cs</code> that has partial class declarations to add
the <code>[MessageAlias]</code> attribute to each type such that it matches the message type identity that the other applications expect.</p>

			      	</div>

			      	<hr />

			      	<nav>
				        <span>
				        	<strong>Previous: </strong><a href="/documentation/extensions/consul">Jasper.Consul</a>

				        </span>
				        <span class="pull-right">

				        	<strong>Next: </strong><a href="/documentation/extensions/marten">Jasper.Marten</a>

				        </span>
			      	</nav>

		      </div><!--/right-->
		  	</div><!--/row-->
		</div><!--/container-->

<script type='text/javascript' src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
$('#search').keyup(function(e){
  if(e.keyCode == 13) {
    var search = $('#search').val();

    var url = 'https://www.google.com/#q=site:http://jasperfx.github.io ' + search;
    url = encodeURI(url);

    //alert(url);

    window.location.href = url;

    e.stopPropagation();
    if (e.cancelBubble!=null) e.cancelBubble = true;
    return false;
  }



});

</script>
    </body>


    <foot>
        <script type='text/javascript' src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script type='text/javascript' src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

        <script type="text/javascript" src="/content/embed.js"></script>
        <script type="text/javascript" src="/content/prism.js"></script>
        <script type="text/javascript" src="/content/sidebar.js"></script>
        <script type="text/javascript" src="/content/affix.js"></script>
    </foot>
</html>
